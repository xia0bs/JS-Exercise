<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>文档标题</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		html,body{
			width: 100%;
			height: 100%;
		}
		.box{
			width: 300px;
			height: 300px;
			background-color: red;
			position: absolute;
			left: 0;
			top: 0;
		}
	</style>
</head>
<body>
	<div class="box"></div>
</body>
<script>

	let box = document.querySelector('.box');
	let maxW = innerWidth - box.offsetWidth;
	let maxH = innerHeight - box.offsetHeight;
	box.onmousedown = function(e){
		let ox = e.offsetX , oy = e.offsetY;
		document.body.onmousemove = function(e){
			let cx = e.clientX , cy = e.clientY;
			let lefts = cx - ox , tops = cy - oy;
			if (lefts>=maxW) {
				lefts=maxW
			}
			if (lefts<0) {
				lefts=0
			}
			if (tops>=maxH) {
				tops=maxH
			}
			if (tops<0) {
				tops=0
			}
			box.style.left = lefts +'px'
			box.style.top = tops +'px'
			
		}
		box.onmouseup = function(){
			document.body.onmousemove = null
		}
	}
</script>
</html>